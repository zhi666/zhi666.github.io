<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><meta name="keywords" content="[object Object]"><meta name="description" content="目录1，开源的分布式日志系统elk(elasticsearch+logstash+Kibana)efk(elasticsearch+filebeat+Kibana)
Elasticsearch是个开源分布式搜索引擎，提供搜集、分析、存储数据三大功能 www.elastic.coLogstash 主要是用来日志的搜集、分析、过滤日志的工具Kibana可以为 Logstash 和 ElasticSearch 提供的日志分析友好的 Web 界面，可以帮助汇总、分析和搜索重要数据日志"><meta name="author" content="zhi666"><title>elk分布式日志收集 - 逸尘秀</title><meta description="目录1，开源的分布式日志系统elk(elasticsearch+logstash+Kibana)efk(elasticsearch+filebeat+Kibana) Elasticsearch是个开源分布式搜索引擎，提供搜集、分析、存储数据三大功能 www.elastic.coLogstash 主要是用来日志的搜集、分析、过滤日志的工具Kibana可以为 Logstash 和 ElasticSea"><meta property="og:type" content="article"><meta property="og:title" content="elk分布式日志收集"><meta property="og:url" content="https://yc6.cool/2020/08/03/elk%E5%88%86%E5%B8%83%E5%BC%8F%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/"><meta property="og:site_name" content="逸尘秀"><meta property="og:description" content="目录1，开源的分布式日志系统elk(elasticsearch+logstash+Kibana)efk(elasticsearch+filebeat+Kibana) Elasticsearch是个开源分布式搜索引擎，提供搜集、分析、存储数据三大功能 www.elastic.coLogstash 主要是用来日志的搜集、分析、过滤日志的工具Kibana可以为 Logstash 和 ElasticSea"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2020-08-03T10:20:36.000Z"><meta property="article:modified_time" content="2023-11-01T02:25:44.557Z"><meta property="article:author" content="zhi666"><meta property="article:tag" content="日志"><meta property="article:tag" content="elk"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://yc6.cool/img/avatar.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://yc6.cool/2020/08/03/elk%E5%88%86%E5%B8%83%E5%BC%8F%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/"},"headline":"elk分布式日志收集","image":["https://yc6.cool/img/avatar.png"],"datePublished":"2020-08-03T10:20:36.000Z","dateModified":"2023-11-01T02:25:44.557Z","author":{"@type":"Person","name":"zhi666"},"description":"目录1，开源的分布式日志系统elk(elasticsearch+logstash+Kibana)efk(elasticsearch+filebeat+Kibana) Elasticsearch是个开源分布式搜索引擎，提供搜集、分析、存储数据三大功能 www.elastic.coLogstash 主要是用来日志的搜集、分析、过滤日志的工具Kibana可以为 Logstash 和 ElasticSea"}</script><link rel="alternative" href="/atom.xml" title="逸尘秀" type="application/atom+xml"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.12/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><link rel="stylesheet" href="/css/style.css"><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="/js/globalUtils.js"></script><link rel="stylesheet" href="/live2d/waifu.css"><script type="text/javascript" async src="/live2d/autoload.js"></script></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="逸尘秀" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/media">影音</a><a class="navbar-item" href="/album">相册</a><a class="navbar-item" href="/friend">友链</a><a class="navbar-item" href="/self-talking">碎碎念</a><a class="navbar-item" href="/message">留言</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zhi666"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><i class="far fa-calendar-plus"> </i>2020-08-03  <a class="commentCountImg" href="/2020/08/03/elk%E5%88%86%E5%B8%83%E5%BC%8F%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/#comment-container"><span class="display-none-class">1024efb0e8220ec0625858ce7494ad91</span><i class="far fa-comment-dots"></i> <span class="commentCount" id="1024efb0e8220ec0625858ce7494ad91">99+</span>  </a><span class="level-item"><i class="far fa-clock"> </i>15 分钟  <i class="fas fa-pencil-alt"> </i>2.3 k</span><span class="level-item" id="busuanzi_container_page_pv"><i class="far fa-eye"></i>&nbsp;&nbsp;<span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">elk分布式日志收集</h1><div class="content"><h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><h2 id="1，开源的分布式日志系统"><a href="#1，开源的分布式日志系统" class="headerlink" title="1，开源的分布式日志系统"></a>1，开源的分布式日志系统</h2><p>elk(elasticsearch+logstash+Kibana)<br>efk(elasticsearch+filebeat+Kibana)</p>
<p>Elasticsearch是个开源分布式搜索引擎，提供搜集、分析、存储数据三大功能 <a href="http://www.elastic.co/">www.elastic.co</a><br>Logstash 主要是用来日志的搜集、分析、过滤日志的工具<br>Kibana可以为 Logstash 和 ElasticSearch 提供的日志分析友好的 Web 界面，可以帮助汇总、分析和搜索重要数据日志</p>
<a id="more"></a>

<p>新版本加了beats(轻量级的日志收集处理工具(Agent)，Beats占用资源少</p>
<pre><code>            kibana        (日志web展示)
              |
              |
              |
              |
elasticsearch1     elasticsearch2       elasticsearch3    (elasticsearch集群，日志分析存储）
              |
              |
              |
              | 
            　|
           logstash        (收集或过滤日志)            
              |
              |
              |
   业务服务器1    业务服务器2    业务服务器3    业务服务器4
    beats       beats      beats         beats        (filebeats收集日志传给elasticsearch,或者传给logstash过滤)</code></pre>
<h2 id="2，实验准备"><a href="#2，实验准备" class="headerlink" title="2，实验准备"></a>2，实验准备</h2><p>我这里只用三台虚拟机来模拟<br>192.168.224.10    kibana+elasticsearch主节点<br>192.168.224.11    elasticsearch数据节点1+logstash或filebeats<br>192.168.224.12    elasticsearch数据节点2+logstash或filebeats    </p>
<p>环境配置要求：<br>内存：2G以上<br>CPU：单核以上，不然后面elasticsearch可能启动不起来</p>
<ol>
<li>主机名及主机名绑定</li>
</ol>
<figure class="highlight vim"><figcaption><span>/etc/hosts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">192.168</span>.<span class="number">224.10</span>	server.<span class="keyword">com</span></span><br><span class="line"><span class="number">192.168</span>.<span class="number">224.11</span>	server1.<span class="keyword">com</span></span><br><span class="line"><span class="number">192.168</span>.<span class="number">224.12</span>	server2.<span class="keyword">com</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>时间同步</li>
<li>静态ip绑定</li>
<li>关闭防火墙,selinux</li>
<li>配置yum源(本地源加下面的源) 3台都要同步进行。<br>下面这段是公网的源路径，但elk相关的rpm包比较大，网速不行的话，建议用下面的我配置好的yum<br>[elk]<br>name=elk<br>baseurl=<a href="https://artifacts.elastic.co/packages/7.x/yum">https://artifacts.elastic.co/packages/7.x/yum</a><br>enabled=1<br>gpgcheck=0</li>
</ol>
<p>==========================================================<br>更新yum仓库<br>yum makecache</p>
<h2 id="3-搭建elasticsearch集群"><a href="#3-搭建elasticsearch集群" class="headerlink" title="3,搭建elasticsearch集群"></a>3,搭建elasticsearch集群</h2><h3 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a><strong>第一步</strong></h3><p>三台elasticsearch机器确认有jdk,然后安装elasticsearch<br> java -version<br>openjdk version “1.8.0_102”<br>OpenJDK Runtime Environment (build 1.8.0_102-b14)<br>OpenJDK 64-Bit Server VM (build 25.102-b14, mixed mode)</p>
<p>没有就需要安装<br>yum install -y java</p>
<p>[root@vm1 ~]# yum install elasticsearch -y<br>[root@vm2 ~]# yum install elasticsearch -y<br>[root@vm3 ~]# yum install elasticsearch -y</p>
<p>也可以本地上传rpm 包然后安装</p>
<p>​     rpm -ivh elasticsearch-6.3.0.rpm</p>
<p><strong>第二步</strong><br>三台上配置elasticsearch（三台的配置有少许不同），然后启动服务，组建elasticsearch集群</p>
<p>[root@vm1 ~]# vim /etc/elasticsearch/elasticsearch.yml     #清空里面的内容<br>cluster.name: elk-cluster            –集群名<br>node.name: server.com                –本节点主机名<br>node.master: true                    –定义此节点为master节点<br>node.data: false                    –定义此节点不为数据节点<br>path.data: /var/lib/elasticsearch    –数据目录<br>path.logs: /var/log/elasticsearch    –日志目录<br>network.host: 0.0.0.0                –监听地址<br>http.port: 9200                        –监听端口<br>discovery.zen.ping.unicast.hosts: [“192.168.224.10”, “192.168.224.11”,”192.168.224.12”]    –加入集群的所有节点IP</p>
<p>cluster.name: elk-cluster<br>node.name: server.com<br>node.master: true<br>node.data: false<br>path.data: /var/lib/elasticsearch<br>path.logs: /var/log/elasticsearch<br>network.host: 0.0.0.0<br>http.port: 9200<br>discovery.zen.ping.unicast.hosts: [“192.168.224.10”, “192.168.224.11”, “192.168.224.12”]</p>
<p>[root@vm2 ~]# vim /etc/elasticsearch/elasticsearch.yml<br>cluster.name: elk-cluster<br>node.name: server1.com<br>node.master: false                #定义此节点不为master节点<br>node.data: true                    #定义此节点为数据节点<br>path.data: /var/lib/elasticsearch<br>path.logs: /var/log/elasticsearch<br>network.host: 0.0.0.0<br>http.port: 9200<br>discovery.zen.ping.unicast.hosts: [“192.168.224.10”, “192.168.224.11”, “192.168.224.12”]</p>
<p>[root@vm3 ~]# vim /etc/elasticsearch/elasticsearch.yml<br>cluster.name: elk-cluster<br>node.name: server2.com<br>node.master: false            #定义此节点不为master节点<br>node.data: true                #定义此节点为数据节点<br>path.data: /var/lib/elasticsearch<br>path.logs: /var/log/elasticsearch<br>network.host: 0.0.0.0<br>http.port: 9200<br>discovery.zen.ping.unicast.hosts: [“192.168.224.10”, “192.168.224.11”, “192.168.224.12”]</p>
<p>[root@vm1 ~]# systemctl start elasticsearch<br>[root@vm1 ~]# systemctl enable elasticsearch<br>[root@vm2 ~]# systemctl start elasticsearch<br>[root@vm2 ~]# systemctl enable elasticsearch<br>[root@vm3 ~]# systemctl start elasticsearch<br>[root@vm3 ~]# systemctl enable elasticsearch</p>
<p>启动成功后（虚拟模拟比较卡，启动并建立集群会有一点慢），一台一台启动，查看端口<br>yum  install -y net-tools 下载软件netstat<br> netstat -ntlup |grep java     –所有节点查看都可以看到启动了下面的端口</p>
<p><img src="https://s1.ax1x.com/2020/08/03/aa2ZFJ.png" alt="aa2ZFJ.png"></p>
<p>9200则是数据传输端口<br>9300端口是集群通信端口</p>
<p>启动不了：<br> ulimit -n          –检查系统最大打开文件数值是否太小<br> 1024</p>
<p> vim /etc/security/limits.conf        –在文件尾部加上下面两行，并重启系统即可</p>
<ul>
<li>soft nofile 10240</li>
<li>hard nofile 10240</li>
</ul>
<p>或者关机后重启一台一台启，不要三台同时启动。<br><strong>第三步</strong>：检查elasticsearch集群是否OK</p>
<p><strong>开通防火墙</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -p tcp -m multiport --dports 9200,9300,5601,9600,10514 -j ACCEPT</span><br><span class="line">iptables -A INPUT -p tcp -m multiport --sports 9200,9300,5601,9600,10514 -j ACCEPT</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">使用firefox查看下面的路径(健康检查)：</span><br><span class="line">http:&#x2F;&#x2F;192.168.224.10:9200&#x2F;_cluster&#x2F;health?pretty	--访问的ip为elasticsearch主节点的IP；或者使用curl http:&#x2F;&#x2F;192.168.224.10:9200&#x2F;_cluster&#x2F;health?pretty 命令查看</span><br><span class="line">&#123;</span><br><span class="line">  &quot;cluster_name&quot; : &quot;elk-cluster&quot;,</span><br><span class="line">  &quot;status&quot; : &quot;green&quot;,			--状态green</span><br><span class="line">  &quot;timed_out&quot; : false,</span><br><span class="line">  &quot;number_of_nodes&quot; : 3,		--三个节点</span><br><span class="line">  &quot;number_of_data_nodes&quot; : 2,		--只有两个为数据节点，另一个为master</span><br><span class="line">  &quot;active_primary_shards&quot; : 0,</span><br><span class="line">  &quot;active_shards&quot; : 0,</span><br><span class="line">  &quot;relocating_shards&quot; : 0,</span><br><span class="line">  &quot;initializing_shards&quot; : 0,</span><br><span class="line">  &quot;unassigned_shards&quot; : 0,</span><br><span class="line">  &quot;delayed_unassigned_shards&quot; : 0,</span><br><span class="line">  &quot;number_of_pending_tasks&quot; : 0,</span><br><span class="line">  &quot;number_of_in_flight_fetch&quot; : 0,</span><br><span class="line">  &quot;task_max_waiting_in_queue_millis&quot; : 0,</span><br><span class="line">  &quot;active_shards_percent_as_number&quot; : 100.0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用firefox查看下面的路径(集群详细信息)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;192.168.224.10:9200&#x2F;_cluster&#x2F;state?pretty</span><br><span class="line"></span><br><span class="line">	--或者# curl http:&#x2F;&#x2F;192.168.224.10:9200&#x2F;_cluster&#x2F;state?pretty命令查看</span><br></pre></td></tr></table></figure>

<h3 id="第四步-在主节点上安装kibana，并启动服务"><a href="#第四步-在主节点上安装kibana，并启动服务" class="headerlink" title="第四步: 在主节点上安装kibana，并启动服务"></a><strong>第四步</strong>: 在主节点上安装kibana，并启动服务</h3><p>  在主节点上安装kibana，并启动服务(这里kibana我是和elasticsearch主节点模拟的同一台机器)：</p>
<p>  [root@vm1 ~]# yum install kibana  -y</p>
<p>   rpm -ihv kibana-6.3.0-x86_64.rpm    #这样本地上传</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@vm1 ~]# vim &#x2F;etc&#x2F;kibana&#x2F;kibana.yml </span><br><span class="line"> server.port: 5601  		#kibana监听端口   :2</span><br><span class="line"> server.host: 192.168.224.10  		#配置监听ip,允许elasticsearch的master能被访问 :7</span><br><span class="line"> elasticsearch.url: &quot;http:&#x2F;&#x2F;192.168.224.10:9200&quot;      :28行 --配置elasticsearch服务器的ip，如果是集群则配置该集群中master的ip</span><br><span class="line"> logging.dest: &#x2F;var&#x2F;log&#x2F;kibana.log  	  :96  #kibana的日志文件路径,自己指定日志，方便排错和调试</span><br></pre></td></tr></table></figure>
<p>   touch /var/log/kibana.log<br>   chown kibana.kibana /var/log/kibana.log<br>   systemctl restart kibana<br>   systemctl enable kibana<br>   lsof -i:5601</p>
<p>  使用firefox浏览器访问<br>  <a href="http://192.168.224.10:5601/">http://192.168.224.10:5601</a>    –IP为kibana服务器的ip</p>
<h4 id="自定义安装版本kibana"><a href="#自定义安装版本kibana" class="headerlink" title="自定义安装版本kibana"></a>自定义安装版本kibana</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https:<span class="comment">//artifacts.elastic.co/downloads/kibana/kibana-7.2.0-linux-x86_64.tar.gz</span></span><br></pre></td></tr></table></figure>

<p>===============================================================</p>
<h3 id="ELK"><a href="#ELK" class="headerlink" title="ELK"></a>ELK</h3><h3 id="第五步"><a href="#第五步" class="headerlink" title="第五步:"></a><strong>第五步</strong>:</h3><p>在node1(server1.com)上安装logstash，配置并启动(这一台是elasticsearch集群节点之一，也模拟logstash节点)</p>
<p> yum install logstash -y</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh logstash-6.3.0.rpm  #本地上传rpm 安装</span><br></pre></td></tr></table></figure>



<p> vim /etc/rsyslog.conf      (添加在文件末尾)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*.* 	@@192.168.224.11:10514			#IP写node1的IP地址（本机的IP）</span><br></pre></td></tr></table></figure>
<p>systemctl restart rsyslog<br> grep -Ev “^#|^$” /etc/logstash/logstash.yml                         #注意yml格式</p>
<p>vim /etc/logstash/logstash.yml</p>
<p>:28行    path.data: /var/lib/logstash<br>:190行  http.host: “192.168.224.11”        –配置成node1的ip<br>:208行  path.logs: /var/log/logstash</p>
<p><img src="https://s1.ax1x.com/2020/08/03/aa2ykQ.png" alt="aa2ykQ.png"></p>
<p> vim /etc/logstash/conf.d/syslog.conf     –编辑一个配置文件，把本地的系统日志收集并发送给elasticsearch集群<br>input {                #输入，也就是日志源<br>  syslog {<br>    type =&gt; “system-syslog”<br>    port =&gt; 10514        #端口，和上面在rsyslog里配置的端口对应<br>  }<br>}<br>output {            #输出，这里定义输出到elasticsearch集群<br>  elasticsearch {<br>    hosts =&gt; [“192.168.224.10:9200”]      #elasticsearch集群的master节点<br>    index =&gt; “system-syslog-%{+YYYY.MM}”    #定义日志索引<br>  }<br> }</p>
<p>纯文件内容：<br>input {<br>  syslog {<br>    type =&gt; “system-syslog”<br>    port =&gt; 10514<br>  }<br>}<br>output {<br>  elasticsearch {<br>    hosts =&gt; [“192.168.224.10:9200”]<br>    index =&gt; “system-syslog-%{+YYYY.MM}”<br>  }<br> }</p>
<p>启动logstash服务<br> cd /usr/share/logstash/bin<br> ./logstash –path.settings /etc/logstash/ -f /etc/logstash/conf.d/syslog.conf &amp;    –等待时间比较久(我这里虚拟机实验环境2－3分钟),在这期间屏幕会陆续有输出。<br> netstat -ntlup |grep 9600<br> netstat -ntlup |grep 10514</p>
<p><strong>第六步</strong>:测试<br>回到kibana服务器(192.168.224.10)查看日志，执行以下命令查看获取的索引信息：</p>
<p> curl ‘192.168.224.10:9200/_cat/indices?v’<br>health status index                 uuid                   pri rep docs.count docs.deleted store.size pri.store.size<br>green  open   system-syslog-2018.11 tTNC6tV_RoqYSHLtlCAG-A   5   1          3            0     58.8kb         29.4kb</p>
<p><img src="https://s1.ax1x.com/2020/08/03/aaRQ9s.png" alt="aaRQ9s.png"></p>
<p>如果没有出现日志索引信息就开通防火墙，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -p udp -m multiport --sports 10514 -j ACCEPT</span><br></pre></td></tr></table></figure>



<p>firefox访问<a href="http://192.168.224.10:5601/">http://192.168.224.10:5601</a></p>
<ol>
<li><p>点management－－》点Index Patterns－－》</p>
</li>
<li><p>在Index pattern里填写索引名称（system-syslog-2018.11或者system-syslog-*）－－》点Next step －－》</p>
<p><img src="https://s1.ax1x.com/2020/08/03/aaR03R.png" alt="aaR03R.png"></p>
<p>—》在Time Filter field name下拉菜单选择@timestamp－－》点Create Index Patterns</p>
<p><img src="https://s1.ax1x.com/2020/08/03/aaRR4H.png" alt="aaRR4H.png"></p>
</li>
</ol>
<p><strong>3.点discover查看</strong></p>
<pre><code> ![aaWzJH.png](https://s1.ax1x.com/2020/08/03/aaWzJH.png)</code></pre>
<p><img src="https://s1.ax1x.com/2020/08/03/aafuSs.png" alt="aafuSs.png"></p>
<p><strong>不行可以重启kibana服务器</strong></p>
<h2 id="EFK"><a href="#EFK" class="headerlink" title="EFK"></a>EFK</h2><p><strong>第一步:</strong><br>在node1和node2上安装filebeat,两台都要操作<br> yum install filebeat -y</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh filebeat-6.3.0-x86_64.rpm</span><br></pre></td></tr></table></figure>



<p><strong>第二步:</strong> 修改filebeat配置文件，两台都要操作<br> vim /etc/filebeat/filebeat.yml<br>  filebeat.inputs:</p>
<ul>
<li><p>type: log</p>
<p>enabled: false    –注释这一句<br>paths:</p>
<ul>
<li>/var/log/yum.log     –这里改成你要测试的日志(也可以写成/var/log/*.log这种，我这里使用yum.log测试比较简单方便）</li>
</ul>
</li>
</ul>
<p>  output.elasticsearch:                       #:144</p>
<pre><code>hosts: [&quot;192.168.224.10:9200&quot;]    #指定输出给elasticsearch集群的master:9200</code></pre>
<p><img src="https://s1.ax1x.com/2020/08/03/aafHhQ.png" alt="aafHhQ.png"></p>
<p>也可以自定义日志</p>
<p><img src="https://s1.ax1x.com/2020/08/03/aahCh4.png" alt="aahCh4.png"></p>
<p>**第三步:**启动服务，两台都要操作<br> systemctl start  filebeat<br> systemctl enable filebeat<br> systemctl status filebeat</p>
<p><strong>第四步:</strong> 回到kibana服 务器上操作<br> curl ‘192.168.224.10:9200/_cat/indices?v’    –使用此命令确认有filebeat-*的索引<br><img src="https://s1.ax1x.com/2020/08/03/aahAj1.png" alt="aahAj1.png"></p>
<p>**第五步:**使用firefox操作kibana图形界面<br><a href="http://192.168.224.10:5061/">http://192.168.224.10:5061</a></p>
<p>点management－－》点Index Patterns－－》在Index pattern里填写索引名称（filebeat-6.3.0-2018.07.05或者filebeat-*）<br>－－》点Next step －－》</p>
<p><img src="https://s1.ax1x.com/2020/08/03/aahQ9H.png" alt="aahQ9H.png"></p>
<p>在Time Filter field name下拉菜单选择@timestamp－－》点Create Index Patterns</p>
<p>点discover查看.如果没有日志输出尝试在yum.log中加入新日志。<br>添加 message   主看信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> grep -Ev &quot;#|^$&quot; &#x2F;etc&#x2F;filebeat&#x2F;filebeat.yml </span><br><span class="line"> </span><br><span class="line">filebeat.inputs:</span><br><span class="line"></span><br><span class="line">- type: log</span><br><span class="line">  paths:</span><br><span class="line">    - &#x2F;var&#x2F;log&#x2F;yum.log</span><br><span class="line">      paths:</span><br><span class="line">  - &#x2F;var&#x2F;log&#x2F;nginx.log</span><br><span class="line">    filebeat.config.modules:</span><br><span class="line">    path: $&#123;path.config&#125;&#x2F;modules.d&#x2F;*.yml</span><br><span class="line">    reload.enabled: false</span><br><span class="line">    setup.template.settings:</span><br><span class="line">    index.number_of_shards: 3</span><br><span class="line">    setup.kibana:</span><br><span class="line">    output.elasticsearch:</span><br><span class="line">    hosts: [&quot;192.168.224.10:9200&quot;]</span><br><span class="line">    index: &quot;yum-%&#123;+yyyy.MM.dd&#125;&quot;</span><br><span class="line">    setup.template.name: &quot;yum-nginx&quot;</span><br><span class="line">    setup.template.pattern: &quot;yum-nginx-*&quot;</span><br></pre></td></tr></table></figure>



<p>删除索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> curl -XDELETE &#39;192.168.224.10:9200&#x2F;.kibana&#39;</span><br><span class="line"></span><br><span class="line">GET索引</span><br><span class="line">curl -XGET &#39;192.168.224.10:9200&#x2F;yum-2018.07.06&#39;</span><br></pre></td></tr></table></figure>
<p>==================================================</p>
<p>更多功能，请自行查阅资料</p>
</div><ul class="post-copyright"><li><strong>本文标题：</strong><a href="https://yc6.cool/2020/08/03/elk分布式日志收集/">elk分布式日志收集</a></li><li><strong>本文作者：</strong><a href="https://yc6.cool">yichen</a></li><li><strong>本文链接：</strong><a href="https://yc6.cool/2020/08/03/elk分布式日志收集/">https://yc6.cool/2020/08/03/elk分布式日志收集/</a></li><li><strong>版权声明：</strong><span>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</span></li></ul><div><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 相关文章</span><br><span>  1.<a class="is-size-6" href="/2023/05/10/Prometheus%E4%BD%BF%E7%94%A8%E6%89%8B%E6%9C%BA%E7%94%B5%E8%AF%9D_%E7%9F%AD%E4%BF%A1%E6%8E%A5%E6%94%B6%E5%91%8A%E8%AD%A6%E9%80%9A%E7%9F%A5/" target="_blank">Prometheus使用手机电话_短信接收告警通知</a><br></span><span>  2.<a class="is-size-6" href="/2023/05/10/Prometheus%E4%BD%BF%E7%94%A8%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%8E%A5%E6%94%B6%E5%91%8A%E8%AD%A6%E9%80%9A%E7%9F%A5/" target="_blank">Prometheus使用企业微信接收告警通知</a><br></span><span>  3.<a class="is-size-6" href="/2023/05/10/Prometheus%E4%BD%BF%E7%94%A8%E4%BC%81%E4%B8%9A%E9%92%89%E9%92%89%E5%91%8A%E8%AD%A6%E9%80%9A%E7%9F%A5/" target="_blank">Prometheus使用企业钉钉接收告警通知</a><br></span><span>  4.<a class="is-size-6" href="/2023/05/10/Prometheus%E4%BD%BF%E7%94%A8%E9%82%AE%E7%AE%B1%E6%8E%A5%E6%94%B6%E5%91%8A%E8%AD%A6%E9%80%9A%E7%9F%A5/" target="_blank">Prometheus使用邮件接收告警通知</a><br></span><span>  5.<a class="is-size-6" href="/2023/05/09/%E5%9F%BA%E4%BA%8E_Consul_%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0/" target="_blank">Prometheus基于Consul服务发现</a><br></span><span>  6.<a class="is-size-6" href="/2023/05/09/%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0&amp;%E5%9F%BA%E4%BA%8E%E6%96%87%E4%BB%B6%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0/" target="_blank">Prometheus服务发现</a><br></span><span>  7.<a class="is-size-6" href="/2023/05/08/Prometheus%E7%9B%91%E6%8E%A7domain%E5%9F%9F%E5%90%8D/" target="_blank">Prometheus监控domain域名</a><br></span><span>  8.<a class="is-size-6" href="/2023/05/08/pushgateway/" target="_blank">Prometheus的Pushgateway工具</a><br></span></div><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 推荐文章</span><br><span>  1.<a class="is-size-6" href="/2020/08/04/docker%E4%BD%BF%E7%94%A8/" target="_blank">docker的使用</a><br></span><span>  2.<a class="is-size-6" href="/2020/08/03/mysql%E5%9F%BA%E7%A1%80/" target="_blank">mysql基础</a><br></span><span>  3.<a class="is-size-6" href="/2020/08/03/nginx%E5%9F%BA%E7%A1%80/" target="_blank">nginx基础</a><br></span><span>  4.<a class="is-size-6" href="/2020/08/04/python3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E9%87%8D%E7%82%B9/" target="_blank">python3基础知识重点</a><br></span><span>  5.<a class="is-size-6" href="/2023/05/07/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/" target="_blank">Prometheus监控linux</a><br></span><span>  6.<a class="is-size-6" href="/2023/05/10/Prometheus%E4%BD%BF%E7%94%A8%E9%82%AE%E7%AE%B1%E6%8E%A5%E6%94%B6%E5%91%8A%E8%AD%A6%E9%80%9A%E7%9F%A5/" target="_blank">Prometheus使用邮件接收告警通知</a><br></span></div></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/css/share.min.css"><div class="social-share"></div><script src="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://yichenxiu.com/tupian/tubiao/alipay1.jpg" alt="支付宝"></span></a><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://i.328888.xyz/2023/03/05/dZXCk.jpeg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/08/03/zabbix-telegram%E6%8A%A5%E8%AD%A6/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">zabbix-telegram报警</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/08/03/docker-compose%E5%AE%89%E8%A3%85elk+kafka/"><span class="level-item">docker-compose安装elk+kafka</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/gitalk/1.6.0/gitalk.css"><script> $.getScript('/js/gitalk.min.js', function () { 
            var gitalk = new Gitalk({
            language:'zh-CN',
            id: '1024efb0e8220ec0625858ce7494ad91',
            repo: 'issue_database',
            owner: 'zhi666',
            clientID: '1b861f81e9a79ee6028d',
            clientSecret: 'cc629aff090aa9c60d5e13ddf7fcfce14f00a478',
            admin: ["zhi666"],
            createIssueManually: true,
            distractionFreeMode: true,
            perPage: 10,
            pagerDirection: 'last',
            proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token',
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><!--!--><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/img/toudong.jpg" alt="逸尘秀"></figure><p class="title is-size-4 is-block line-height-inherit">逸尘秀</p><p class="is-size-6 is-block">只此一生 ， 必须快乐 ！</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>深圳</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">136</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">17</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">55</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://weibo.com/u/6155656382" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/zhi666"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Weibo" href="https://weibo.com/u/6155656382"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:1378373724@qq.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Next" href="https://zhi666.github.io/remove.io"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div><div><hr><p id="hitokoto">:D 一言句子获取中...</p><script type="text/javascript" defer>function getYiyan(){
                                $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                if(data){
                                    $('#hitokoto').html("");
                                    $('#hitokoto').append("<strong style='color: #3273dc;'>"+data.hitokoto+"</strong>"+
                                    "<p>"+"来源《"+data.from+"》</p><p>提供者-"+data.creator+"</p>");
                                }});}
                                $(function (){getYiyan();$('#hitokoto').click(function(){getYiyan();})});</script></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新评论</h3><span class="body_hot_comment">加载中，最新评论有1分钟缓存...</span></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2023-11-01T02:25:44.578Z">2023-11-01</time></p><p class="title is-6"><a class="link-muted" href="/2023/11/01/selenlium%E6%89%B9%E9%87%8F%E6%B7%BB%E5%8A%A0dns%E5%9F%9F%E5%90%8D/">批量添加dns域名解析</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/python/">python</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2023-05-17T01:45:36.000Z">2023-05-17</time></p><p class="title is-6"><a class="link-muted" href="/2023/05/17/Kubernetes%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%83%A8%E7%BD%B2/">Kubernetes高可用集群二进制部署</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/linux3/">linux3</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2023-05-10T06:25:36.000Z">2023-05-10</time></p><p class="title is-6"><a class="link-muted" href="/2023/05/10/Prometheus%E4%BD%BF%E7%94%A8%E6%89%8B%E6%9C%BA%E7%94%B5%E8%AF%9D_%E7%9F%AD%E4%BF%A1%E6%8E%A5%E6%94%B6%E5%91%8A%E8%AD%A6%E9%80%9A%E7%9F%A5/">Prometheus使用手机电话_短信接收告警通知</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/linux2/">linux2</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2023-05-10T06:22:36.000Z">2023-05-10</time></p><p class="title is-6"><a class="link-muted" href="/2023/05/10/Prometheus%E4%BD%BF%E7%94%A8%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%8E%A5%E6%94%B6%E5%91%8A%E8%AD%A6%E9%80%9A%E7%9F%A5/">Prometheus使用企业微信接收告警通知</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/linux2/">linux2</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2023-05-10T06:20:36.000Z">2023-05-10</time></p><p class="title is-6"><a class="link-muted" href="/2023/05/10/Prometheus%E4%BD%BF%E7%94%A8%E4%BC%81%E4%B8%9A%E9%92%89%E9%92%89%E5%91%8A%E8%AD%A6%E9%80%9A%E7%9F%A5/">Prometheus使用企业钉钉接收告警通知</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/linux2/">linux2</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/English/"><span class="level-start"><span class="level-item">English</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/HTML/"><span class="level-start"><span class="level-item">HTML</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JS/"><span class="level-start"><span class="level-item">JS</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/html/"><span class="level-start"><span class="level-item">html</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/linux1/"><span class="level-start"><span class="level-item">linux1</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/linux2/"><span class="level-start"><span class="level-item">linux2</span></span><span class="level-end"><span class="level-item tag">33</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/linux3/"><span class="level-start"><span class="level-item">linux3</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/python/"><span class="level-start"><span class="level-item">python</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/web/"><span class="level-start"><span class="level-item">web</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/work/"><span class="level-start"><span class="level-item">work</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2023/11/"><span class="level-start"><span class="level-item">十一月 2023</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/05/"><span class="level-start"><span class="level-item">五月 2023</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/04/"><span class="level-start"><span class="level-item">四月 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/02/"><span class="level-start"><span class="level-item">二月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/06/"><span class="level-start"><span class="level-item">六月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag is-grey-lightest">18</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag is-grey-lightest">16</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Prometheus/"><span class="tag">Prometheus</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/html/"><span class="tag">html</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag is-grey-lightest">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/web/"><span class="tag">web</span><span class="tag is-grey-lightest">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AE%B9%E5%99%A8/"><span class="tag">容器</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="tag">数据库</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"><span class="tag">科学上网</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/work/"><span class="tag">work</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"><span class="tag">自动化</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%9A%E5%AE%A2/"><span class="tag">博客</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B7%A5%E4%BD%9C/"><span class="tag">工作</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B7%A5%E5%85%B7/"><span class="tag">工具</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssl/"><span class="tag">ssl</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/"><span class="tag">文件系统</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%BF%97/"><span class="tag">日志</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%BF%97%E5%8A%A0%E5%AF%86/"><span class="tag">日志加密</span><span class="tag is-grey-lightest">3</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=zhi666FeedsId&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="zhi666FeedsId" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="订阅"></div></div><p class="help">输入邮箱开始订阅，更博后邮件通知！</p></form></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="逸尘秀" height="28"></a><p class="size-small"><span>&copy; 2023 yichen</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>,Modify by <a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">removeif</a> <br><span>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br />&nbsp;&nbsp;&nbsp;&nbsp;方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br /></span><span><span id="statistic-times">loading...</span><script>function createTime(time) {
            var n = new Date(time);
            now.setTime(now.getTime() + 250),
                days = (now - n) / 1e3 / 60 / 60 / 24,
                dnum = Math.floor(days),
                hours = (now - n) / 1e3 / 60 / 60 - 24 * dnum,
                hnum = Math.floor(hours),
            1 == String(hnum).length && (hnum = "0" + hnum),
                minutes = (now - n) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
                mnum = Math.floor(minutes),
            1 == String(mnum).length && (mnum = "0" + mnum),
                seconds = (now - n) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
                snum = Math.round(seconds),
            1 == String(snum).length && (snum = "0" + snum),
                document.getElementById("statistic-times").innerHTML = "❤️本站自 <strong>"+time.split(" ")[0].replace(/\//g,".")+"</strong> 已运行 <strong>" + dnum + "</strong> 天 <strong>" + hnum + "</strong> 小时 <strong>" + mnum + "</strong> 分 <strong>" + snum + "</strong> 秒！❤️";
        }var now = new Date();setInterval("createTime('2020/08/02 00:00:00')", 250,"");</script><br></span><div class="size-small"><span>❤️感谢 <strong><span id="busuanzi_value_site_uv">99+</span></strong> 小伙伴的 <strong><span id="busuanzi_value_site_pv">99+</span></strong> 次光临！❤️</span></div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zhi666"><i class="fab fa-github"></i></a></p></div><div class="sideMusic"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="2364053447" theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting" lrctype="0" list-max-height="400px" fixed="true"></meting-js></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://yc6.cool',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back-to-top.js" defer></script><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.12/js/lightgallery-all.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><!--!--><!--!--><!--!--><script src="/js/toc.js" defer></script><script src="/js/main.js" defer></script><script>$.getScript('/js/comment-issue-data.js',function(){loadIssueData('1b861f81e9a79ee6028d','cc629aff090aa9c60d5e13ddf7fcfce14f00a478','zhi666','issue_database',false);})</script><link rel="stylesheet" href="/css/insight.css"><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input class="searchbox-input ins-search-input" type="text" placeholder="想要查找什么..."><span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>(function (window) {
            var INSIGHT_CONFIG = {
                TRANSLATION: {
                    POSTS: '文章',
                    PAGES: '页面',
                    CATEGORIES: '分类',
                    TAGS: '标签',
                    UNTITLED: '(无标题)',
                },
                CONTENT_URL: '/content.json',
            };
            window.INSIGHT_CONFIG = INSIGHT_CONFIG;
        })(window);</script><script src="/js/insight.js" defer></script></body></html>